<!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>4.&#xA0;&#x5D4C;&#x5957;&#x7ED3;&#x6784;&#x4F53;</title><link rel="stylesheet" href="styles.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.2"><link rel="start" href="index.html" title="Linux C&#x7F16;&#x7A0B;&#x4E00;&#x7AD9;&#x5F0F;&#x5B66;&#x4E60;"><link rel="up" href="ch07.html" title="&#x7B2C;&#xA0;7&#xA0;&#x7AE0;&#xA0;&#x7ED3;&#x6784;&#x4F53;"><link rel="prev" href="ch07s03.html" title="3.&#xA0;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x6807;&#x5FD7;"><link rel="next" href="ch08.html" title="&#x7B2C;&#xA0;8&#xA0;&#x7AE0;&#xA0;&#x6570;&#x7EC4;"><meta name="viewport" content="width=device-width, initial-scale=1"></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tbody><tr><th colspan="3" align="center">4.&#xA0;&#x5D4C;&#x5957;&#x7ED3;&#x6784;&#x4F53;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch07s03.html">&#x4E0A;&#x4E00;&#x9875;</a>&#xA0;</td><th width="60%" align="center">&#x7B2C;&#xA0;7&#xA0;&#x7AE0;&#xA0;&#x7ED3;&#x6784;&#x4F53;</th><td width="20%" align="right">&#xA0;<a accesskey="n" href="ch08.html">&#x4E0B;&#x4E00;&#x9875;</a></td></tr></tbody></table><hr></div><div class="sect1" lang="zh-cn" xml:lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id2731550"></a>4.&#xA0;&#x5D4C;&#x5957;&#x7ED3;&#x6784;&#x4F53;</h2></div></div></div><p>&#x7ED3;&#x6784;&#x4F53;&#x4E5F;&#x662F;&#x4E00;&#x79CD;&#x9012;&#x5F52;&#x5B9A;&#x4E49;&#xFF1A;&#x7ED3;&#x6784;&#x4F53;&#x7684;&#x6210;&#x5458;&#x5177;&#x6709;&#x67D0;&#x79CD;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x800C;&#x7ED3;&#x6784;&#x4F53;&#x672C;&#x8EAB;&#x4E5F;&#x662F;&#x4E00;&#x79CD;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;&#x7ED3;&#x6784;&#x4F53;&#x7684;&#x6210;&#x5458;&#x53EF;&#x4EE5;&#x662F;&#x53E6;&#x4E00;&#x4E2A;&#x7ED3;&#x6784;&#x4F53;&#xFF0C;&#x5373;&#x7ED3;&#x6784;&#x4F53;&#x53EF;&#x4EE5;&#x5D4C;&#x5957;&#x5B9A;&#x4E49;&#x3002;&#x4F8B;&#x5982;&#x6211;&#x4EEC;&#x5728;&#x590D;&#x6570;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x5B9A;&#x4E49;&#x590D;&#x5E73;&#x9762;&#x4E0A;&#x7684;&#x7EBF;&#x6BB5;&#xFF1A;</p><pre class="programlisting">struct segment {
	struct complex_struct start;
	struct complex_struct end;
};</pre><p>&#x4ECE;<a class="xref" href="ch07s01.html#struct.intro">&#x7B2C;&#xA0;1&#xA0;&#x8282; &#x201C;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x4E0E;&#x7ED3;&#x6784;&#x4F53;&#x201D;</a>&#x8BB2;&#x7684;Initializer&#x7684;&#x8BED;&#x6CD5;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;Initializer&#x4E5F;&#x53EF;&#x4EE5;&#x5D4C;&#x5957;&#xFF0C;&#x56E0;&#x6B64;&#x5D4C;&#x5957;&#x7ED3;&#x6784;&#x4F53;&#x53EF;&#x4EE5;&#x5D4C;&#x5957;&#x5730;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p><pre class="programlisting">struct segment s = {{ 1.0, 2.0 }, { 4.0, 6.0 }};</pre><p>&#x4E5F;&#x53EF;&#x4EE5;&#x5E73;&#x5766;&#xFF08;Flat&#xFF09;<a id="id2731587" class="indexterm"></a>&#x5730;&#x521D;&#x59CB;&#x5316;&#x3002;&#x4F8B;&#x5982;&#xFF1A;</p><pre class="programlisting">struct segment s = { 1.0, 2.0, 4.0, 6.0 };</pre><p>&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x628A;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x6DF7;&#x5408;&#x4F7F;&#x7528;&#xFF08;&#x8FD9;&#x6837;&#x53EF;&#x8BFB;&#x6027;&#x5F88;&#x5DEE;&#xFF0C;&#x5E94;&#x8BE5;&#x907F;&#x514D;&#xFF09;&#xFF1A;</p><pre class="programlisting">struct segment s = {{ 1.0, 2.0 }, 4.0, 6.0 };</pre><p>&#x5229;&#x7528;C99&#x7684;&#x65B0;&#x7279;&#x6027;&#x4E5F;&#x53EF;&#x4EE5;&#x505A;Memberwise Initialization&#xFF0C;&#x4F8B;&#x5982;<sup>[<a id="id2731613" href="#ftn.id2731613" class="footnote">15</a>]</sup>&#xFF1A;</p><pre class="programlisting">struct segment s = { .start.x = 1.0, .end.x = 2.0 };</pre><p>&#x8BBF;&#x95EE;&#x5D4C;&#x5957;&#x7ED3;&#x6784;&#x4F53;&#x7684;&#x6210;&#x5458;&#x8981;&#x7528;&#x5230;&#x591A;&#x4E2A;.&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p><pre class="programlisting">s.start.t = RECTANGULAR;
s.start.a = 1.0;
s.start.b = 2.0;</pre><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a id="ftn.id2731613" href="#id2731613" class="para">15</a>] </sup>&#x4E3A;&#x4E86;&#x4FBF;&#x4E8E;&#x7406;&#x89E3;&#xFF0C;<a class="xref" href="ch07s01.html#struct.intro">&#x7B2C;&#xA0;1&#xA0;&#x8282; &#x201C;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x4E0E;&#x7ED3;&#x6784;&#x4F53;&#x201D;</a>&#x8BB2;&#x7684;Initializer&#x8BED;&#x6CD5;&#x5E76;&#x6CA1;&#x6709;&#x63CF;&#x8FF0;&#x8FD9;&#x79CD;&#x590D;&#x6742;&#x7684;&#x7528;&#x6CD5;&#x3002;</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tbody><tr><td width="40%" align="left"><a accesskey="p" href="ch07s03.html">&#x4E0A;&#x4E00;&#x9875;</a>&#xA0;</td><td width="20%" align="center"><a accesskey="u" href="ch07.html">&#x4E0A;&#x4E00;&#x7EA7;</a></td><td width="40%" align="right">&#xA0;<a accesskey="n" href="ch08.html">&#x4E0B;&#x4E00;&#x9875;</a></td></tr><tr><td width="40%" align="left" valign="top">3.&#xA0;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x6807;&#x5FD7;&#xA0;</td><td width="20%" align="center"><a accesskey="h" href="index.html">&#x8D77;&#x59CB;&#x9875;</a></td><td width="40%" align="right" valign="top">&#xA0;&#x7B2C;&#xA0;8&#xA0;&#x7AE0;&#xA0;&#x6570;&#x7EC4;</td></tr></tbody></table></div>
</body></html>